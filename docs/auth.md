## 🔐 認証仕様（Auth0）

本プロジェクトでは、ユーザーごとの合成制限を行うために Auth0 による認証を導入する。

---

### 目的

- 未認証ユーザーは画像アップロード・合成処理を利用不可とする
- 各ユーザーの合成履歴や制限回数を Supabase 側で管理する前提

---

### UI 要件

- ログイン/ログアウトボタンの配置（Next.js ヘッダー等）
- ログイン後はプロフィール画像・メールアドレスを取得表示
- 未ログイン時には合成ボタンを無効に

---

### 技術構成

- Auth0 SDK for Next.js を利用
  - `@auth0/nextjs-auth0`
- Cookie セッションによるログイン状態管理
- API Route 内で `getSession` によるユーザー情報取得

---

### ルーティング例

| Path                 | 説明               |
| -------------------- | ------------------ |
| `/api/auth/login`    | Auth0 ログイン開始 |
| `/api/auth/logout`   | Auth0 ログアウト   |
| `/api/auth/callback` | 認証コールバック   |
